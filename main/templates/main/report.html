<!DOCTYPE html>
<html>
<head>
    <title>Student Report</title>
</head>
<body>
    <h1>Student Report Card</h1>

    <!-- Search Form -->
    <form method="get" action="">
        <label>Search by name: </label>
        <input type="text" name="q" placeholder="Enter name">
        <button type="submit">Search</button>
    </form>

    <br>
    <a href="{% url 'home' %}">Add New Student</a>
    <br><br>

    <!-- Report Table -->
    <table border="1" cellpadding="8" cellspacing="0">
        <tr>
            <th>Name</th>
            <th>Subject 1</th>
            <th>Subject 2</th>
            <th>Subject 3</th>
            <th>Total</th>
            <th>Average</th>
            <th>Grade</th>
            <th>Actions</th>
        </tr>

        {% for student in students %}
        <tr>
            <td>{{ student.name }}</td>
            <td>{{ student.subject1 }}</td>
            <td>{{ student.subject2 }}</td>
            <td>{{ student.subject3 }}</td>
            <td>{{ student.total }}</td>
            <td>{{ student.average|floatformat:2 }}</td>
            <td>{{ student.grade }}</td>
            <td>
                <a href="{% url 'edit_student' student.id %}">Edit</a> |
                <a href="{% url 'delete_student' student.id %}">Delete</a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="8">No students found.</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
